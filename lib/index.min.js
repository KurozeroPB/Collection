!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("collection",[],e):"object"==typeof exports?exports.collection=e():t.collection=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";function n(t){var e=t;return"object"==typeof t&&null!==t&&function(){for(;null!==Object.getPrototypeOf(e=Object.getPrototypeOf(e)););return Object.getPrototypeOf(t)===e}()}Object.defineProperty(e,"__esModule",{value:!0});class o extends Map{constructor(t,e){if(super(),this.TName=t?t.name:"any",e)if(Array.isArray(e))for(let t=0;t<e.length;t++)this.set(t,e[t]);else if(n(e))for(const[t,r]of Object.entries(e))this.set(t,r)}get isEmpty(){return 0===this.size}toArray(){const t=[];for(const[e,r]of this)t.push(r);return t}toObject(){const t={};for(const[e,r]of this)t[e]=r;return t}static from(t){const e=new o;if(Array.isArray(t))for(let r=0;r<t.length;r++)e.set(r,t[r]);else if(n(t))for(const[r,n]of Object.entries(t))e.set(r,n);return e}static merge(...t){const e=new o;for(let r=0;r<t.length;r++)for(const[n,o]of t[r])e.set(n,o);return e}add(t){t._key?this.set(t._key,t):this.set(this.size,t)}addMany(t){if(t instanceof o)for(const[e,r]of t.entries())this.set(e,r);else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.set(this.size,t[e]);else if(n(t))for(const[e,r]of Object.entries(t))this.set(e,r)}find(t){for(const[e,r]of this)if(t(r))return{key:e,value:r}}filter(t){const e=[];for(const[r,n]of this)t(n)&&e.push({key:r,value:n});return e}map(t){const e=[];for(const[r,n]of this)e.push(t(n,r,this));return e}merge(t){const e=new o;for(const[t,r]of this)e.add(r);for(const[r,n]of t)e.add(n);return e}random(){const t=Math.floor(Math.random()*this.size),e=this.values();for(let r=0;r<t;++r)e.next();return e.next().value}toString(){return`[Collection<${this.TName}>]`}all(t){for(const[e,r]of this)if(!t(r))return!1;return!0}any(t){if(t){for(const[e,r]of this)if(t(r))return!0;return!1}return!1}contains(t){for(const[e,r]of this)if(t===r)return!0;return!1}containsAll(t){let e=!1;for(const[r,n]of t){if(!this.contains(n))return!1;e=!0}return e}count(t){if(t){let e=0;for(const[r,n]of this)t(n)&&e++;return e}return this.size}remove(t){if(t._key){const e=this.get(t._key);e&&this.delete(e._key)}else{const e=this.find(e=>(function t(e,r){if(e===r)return!0;if(!(e instanceof Object&&r instanceof Object))return!1;if(e.constructor!==r.constructor)return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!r.hasOwnProperty(n))return!1;if(e[n]!==r[n]){if("object"!=typeof e[n])return!1;if(!t(e[n],r[n]))return!1}}for(n in r)if(r.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0})(e,t));e&&this.delete(e.key)}}}e.Collection=o,e.default=o}])}));